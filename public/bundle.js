var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function a(e){e.forEach(t)}function l(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t){e.appendChild(t)}function r(e,t,n){e.insertBefore(t,n||null)}function s(e){e.parentNode.removeChild(e)}function i(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function p(){return u(" ")}function h(){return u("")}function d(e,t,n,a){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)}function f(e){return function(t){return t.preventDefault(),e.call(this,t)}}function m(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function v(e,t){t=""+t,e.data!==t&&(e.data=t)}function g(e,t){(null!=t||e.value)&&(e.value=t)}let $;function b(e){$=e}function k(e){(function(){if(!$)throw new Error("Function called outside component initialization");return $})().$$.on_mount.push(e)}function _(){const e=$;return(t,n)=>{const a=e.$$.callbacks[t];if(a){const l=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);a.slice().forEach(t=>{t.call(e,l)})}}}const x=[],w=[],y=[],S=[],C=Promise.resolve();let T=!1;function q(e){y.push(e)}function E(){const e=new Set;do{for(;x.length;){const e=x.shift();b(e),M(e.$$)}for(;w.length;)w.pop()();for(let t=0;t<y.length;t+=1){const n=y[t];e.has(n)||(n(),e.add(n))}y.length=0}while(x.length);for(;S.length;)S.pop()();T=!1}function M(e){e.fragment&&(e.update(e.dirty),a(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(q))}const N=new Set;let A;function F(){A={r:0,c:[],p:A}}function L(){A.r||a(A.c),A=A.p}function O(e,t){e&&e.i&&(N.delete(e),e.i(t))}function P(e,t,n,a){if(e&&e.o){if(N.has(e))return;N.add(e),A.c.push(()=>{N.delete(e),a&&(n&&e.d(1),a())}),e.o(t)}}function j(e,t){e.d(1),t.delete(e.key)}function B(e,t){P(e,1,1,()=>{t.delete(e.key)})}function H(e,t,n,a,l,c,o,r,s,i,u,p){let h=e.length,d=c.length,f=h;const m={};for(;f--;)m[e[f].key]=f;const v=[],g=new Map,$=new Map;for(f=d;f--;){const e=p(l,c,f),r=n(e);let s=o.get(r);s?a&&s.p(t,e):(s=i(r,e)).c(),g.set(r,v[f]=s),r in m&&$.set(r,Math.abs(f-m[r]))}const b=new Set,k=new Set;function _(e){O(e,1),e.m(r,u),o.set(e.key,e),u=e.first,d--}for(;h&&d;){const t=v[d-1],n=e[h-1],a=t.key,l=n.key;t===n?(u=t.first,h--,d--):g.has(l)?!o.has(a)||b.has(a)?_(t):k.has(l)?h--:$.get(a)>$.get(l)?(k.add(a),_(t)):(b.add(l),h--):(s(n,o),h--)}for(;h--;){const t=e[h];g.has(t.key)||s(t,o)}for(;d;)_(v[d-1]);return v}function I(e,n,c){const{fragment:o,on_mount:r,on_destroy:s,after_update:i}=e.$$;o.m(n,c),q(()=>{const n=r.map(t).filter(l);s?s.push(...n):a(n),e.$$.on_mount=[]}),i.forEach(q)}function R(e,t){e.$$.fragment&&(a(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function D(e,t){e.$$.dirty||(x.push(e),T||(T=!0,C.then(E)),e.$$.dirty=n()),e.$$.dirty[t]=!0}function U(t,l,c,o,r,s){const i=$;b(t);const u=l.props||{},p=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:[]),callbacks:n(),dirty:null};let h=!1;var d;p.ctx=c?c(t,u,(e,n)=>{p.ctx&&r(p.ctx[e],p.ctx[e]=n)&&(p.bound[e]&&p.bound[e](n),h&&D(t,e))}):u,p.update(),h=!0,a(p.before_update),p.fragment=o(p.ctx),l.target&&(l.hydrate?p.fragment.l((d=l.target,Array.from(d.childNodes))):p.fragment.c(),l.intro&&O(t.$$.fragment),I(t,l.target,l.anchor),E()),b(i)}class z{$destroy(){R(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const V=e=>(console.log(e),e&&!isNaN(e));function W(t){var n,l,c,u,h,v,$,b,k;return{c(){n=i("div"),l=i("input"),c=p(),(u=i("span")).innerHTML='<i class="fas fa-times"></i>',h=p(),v=i("input"),$=p(),(b=i("a")).textContent="Add to Total",m(l,"name","width"),m(l,"placeholder","Width"),m(u,"class","divider svelte-vyb9sk"),m(v,"name","height"),m(v,"placeholder","Height"),m(b,"class","button"),m(b,"href","#"),m(n,"class","flex items-center simple-calc svelte-vyb9sk"),k=[d(l,"input",t.input0_input_handler),d(v,"input",t.input1_input_handler),d(b,"click",f(t.calcSimple))]},m(e,a){r(e,n,a),o(n,l),g(l,t.width),o(n,c),o(n,u),o(n,h),o(n,v),g(v,t.height),o(n,$),o(n,b)},p(e,t){e.width&&l.value!==t.width&&g(l,t.width),e.height&&v.value!==t.height&&g(v,t.height)},i:e,o:e,d(e){e&&s(n),a(k)}}}function X(e,t,n){const a=_();let{shape:l}=t,c=null,o=null;return e.$set=(e=>{"shape"in e&&n("shape",l=e.shape)}),{shape:l,width:c,height:o,calcSimple:()=>{if(V(c)&&V(o)){console.log(l);let e=c*o;e=(e="triangle"===l?e/2:e).toFixed(1),a("calc",e)}else alert("Please give numeric value")},input0_input_handler:function(){c=this.value,n("width",c)},input1_input_handler:function(){o=this.value,n("height",o)}}}class G extends z{constructor(e){super(),U(this,e,X,W,c,["shape"])}}function J(t){var n,l,c,u,h;return{c(){n=i("div"),l=i("input"),c=p(),(u=i("a")).textContent="Add to Total",m(l,"name","diameter"),m(l,"placeholder","Diameter"),m(u,"class","button"),m(u,"href","#"),m(n,"class","flex items-center diameter-calc"),h=[d(l,"input",t.input_input_handler),d(u,"click",f(t.calcDiam))]},m(e,a){r(e,n,a),o(n,l),g(l,t.diameter),o(n,c),o(n,u)},p(e,t){e.diameter&&l.value!==t.diameter&&g(l,t.diameter)},i:e,o:e,d(e){e&&s(n),a(h)}}}function K(e,t,n){const a=_();let{shape:l}=t,c=null;return e.$set=(e=>{"shape"in e&&n("shape",l=e.shape)}),{shape:l,diameter:c,calcDiam:()=>{if(V(c)){let e=(Math.PI*(c/2)).toFixed(1);a("calc",e)}else alert("Please give numeric value")},input_input_handler:function(){c=this.value,n("diameter",c)}}}class Q extends z{constructor(e){super(),U(this,e,K,J,c,["shape"])}}function Y(t){var n,l,c,u,h;return{c(){n=i("div"),l=i("input"),c=p(),(u=i("a")).textContent="Add to Total",m(l,"name","radius"),m(l,"placeholder","Radius"),m(u,"class","button"),m(u,"href","#"),m(n,"class","flex items-center radius-calc"),h=[d(l,"input",t.input_input_handler),d(u,"click",f(t.calcRad))]},m(e,a){r(e,n,a),o(n,l),g(l,t.radius),o(n,c),o(n,u)},p(e,t){e.radius&&l.value!==t.radius&&g(l,t.radius)},i:e,o:e,d(e){e&&s(n),a(h)}}}function Z(e,t,n){const a=_();let{shape:l}=t,c=null;return e.$set=(e=>{"shape"in e&&n("shape",l=e.shape)}),{shape:l,radius:c,calcRad:()=>{if(V(c)){let e=(Math.PI*(c*c)/2).toFixed(1);a("calc",e)}else alert("Please give numeric value")},input_input_handler:function(){c=this.value,n("radius",c)}}}class ee extends z{constructor(e){super(),U(this,e,Z,Y,c,["shape"])}}function te(e,t,n){const a=Object.create(e);return a.shape=t[n],a}function ne(e,t,n){const a=Object.create(e);return a.shape=t[n],a}function ae(e){var t,n;return{c(){(t=i("a")).textContent="X",m(t,"class","delete-shape svelte-1hkggpr"),m(t,"href","#"),n=d(t,"click",f(e.removeShape))},m(e,n){r(e,t,n)},d(e){e&&s(t),n()}}}function le(e,t){var n,a,l,c,u;function h(){return t.click_handler(t)}return{key:e,first:null,c(){n=i("li"),(a=i("div")).innerHTML='<span class="svelte-1hkggpr"></span>',l=p(),m(a,"class","shape-inner svelte-1hkggpr"),m(n,"class",c="selection-item "+t.shape.name+" "+(t.control===t.shape.name?"active":"")+" svelte-1hkggpr"),u=d(n,"click",f(h)),this.first=n},m(e,t){r(e,n,t),o(n,a),o(n,l)},p(e,a){t=a,e.control&&c!==(c="selection-item "+t.shape.name+" "+(t.control===t.shape.name?"active":"")+" svelte-1hkggpr")&&m(n,"class",c)},d(e){e&&s(n),u()}}}function ce(e){var t,n,a=e.shape.controls;function l(e){return{props:{shape:e.shape.name}}}if(a){var c=new a(l(e));c.$on("calc",e.controlCalc)}return{c(){c&&c.$$.fragment.c(),t=h()},m(e,a){c&&I(c,e,a),r(e,t,a),n=!0},p(e,n){var o={};if(e.shapes&&(o.shape=n.shape.name),a!==(a=n.shape.controls)){if(c){F();const e=c;P(e.$$.fragment,1,0,()=>{R(e,1)}),L()}a?((c=new a(l(n))).$on("calc",n.controlCalc),c.$$.fragment.c(),O(c.$$.fragment,1),I(c,t.parentNode,t)):c=null}else a&&c.$set(o)},i(e){n||(c&&O(c.$$.fragment,e),n=!0)},o(e){c&&P(c.$$.fragment,e),n=!1},d(e){e&&s(t),c&&R(c,e)}}}function oe(e,t){var n,a,l,c=t.shape.name===t.control&&!t.localTotal&&ce(t);return{key:e,first:null,c(){n=h(),c&&c.c(),a=h(),this.first=n},m(e,t){r(e,n,t),c&&c.m(e,t),r(e,a,t),l=!0},p(e,t){t.shape.name!==t.control||t.localTotal?c&&(F(),P(c,1,1,()=>{c=null}),L()):c?(c.p(e,t),O(c,1)):((c=ce(t)).c(),O(c,1),c.m(a.parentNode,a))},i(e){l||(O(c),l=!0)},o(e){P(c),l=!1},d(e){e&&s(n),c&&c.d(e),e&&s(a)}}}function re(e){var t,n,a,l,c,h,g,$;return{c(){t=i("div"),n=i("span"),a=u(e.localTotal),l=u("m"),(c=i("sup")).textContent="2",h=p(),(g=i("a")).textContent="Re-calculate",m(n,"class","local-total total__value-box svelte-1hkggpr"),m(g,"class","button svelte-1hkggpr"),m(g,"href","#"),m(t,"v-if","localTotal"),m(t,"class","flex items-center totalBar svelte-1hkggpr"),$=d(g,"click",f(e.reCalc))},m(e,s){r(e,t,s),o(t,n),o(n,a),o(n,l),o(n,c),o(t,h),o(t,g)},p(e,t){e.localTotal&&v(a,t.localTotal)},d(e){e&&s(t),$()}}}function se(e){var t,n,a,l,c,h,d,f,g,$,b,k,_,x,w,y,S=[],C=new Map,T=[],q=new Map,E=e.totalShapeCount>1&&ae(e),M=e.shapes;const N=e=>e.shape.name;for(var A=0;A<M.length;A+=1){let t=ne(e,M,A),n=N(t);C.set(n,S[A]=le(n,t))}var I=e.shapes;const R=e=>e.blockid+e.shape.name;for(A=0;A<I.length;A+=1){let t=te(e,I,A),n=R(t);q.set(n,T[A]=oe(n,t))}var D=e.localTotal&&re(e);return{c(){for(t=i("div"),n=i("h2"),a=i("span"),l=u(e.stepNumber),c=u("."),h=i("span"),d=u("Choose your "),f=u(e.name),g=u(" shape to calculate."),$=p(),E&&E.c(),b=p(),k=i("ul"),A=0;A<S.length;A+=1)S[A].c();for(_=p(),x=i("div"),A=0;A<T.length;A+=1)T[A].c();w=p(),D&&D.c(),m(a,"class","step-number svelte-1hkggpr"),m(h,"class","step-text svelte-1hkggpr"),m(n,"class","flex items-center"),m(k,"class","selection-wrap list-unstyled svelte-1hkggpr"),m(x,"class","control-wrap svelte-1hkggpr"),m(t,"class","w-full svelte-1hkggpr")},m(e,s){for(r(e,t,s),o(t,n),o(n,a),o(a,l),o(a,c),o(n,h),o(h,d),o(h,f),o(h,g),o(n,$),E&&E.m(n,null),o(t,b),o(t,k),A=0;A<S.length;A+=1)S[A].m(k,null);for(o(t,_),o(t,x),A=0;A<T.length;A+=1)T[A].m(x,null);o(x,w),D&&D.m(x,null),y=!0},p(e,t){y&&!e.stepNumber||v(l,t.stepNumber),y&&!e.name||v(f,t.name),t.totalShapeCount>1?E||((E=ae(t)).c(),E.m(n,null)):E&&(E.d(1),E=null);const a=t.shapes;S=H(S,e,N,1,t,a,C,k,j,le,null,ne);const c=t.shapes;F(),T=H(T,e,R,1,t,c,q,x,B,oe,w,te),L(),t.localTotal?D?D.p(e,t):((D=re(t)).c(),D.m(x,null)):D&&(D.d(1),D=null)},i(e){if(!y){for(var t=0;t<I.length;t+=1)O(T[t]);y=!0}},o(e){for(A=0;A<T.length;A+=1)P(T[A]);y=!1},d(e){for(e&&s(t),E&&E.d(),A=0;A<S.length;A+=1)S[A].d();for(A=0;A<T.length;A+=1)T[A].d();D&&D.d()}}}function ie(e,t,n){const a=_();let{blockid:l,name:c,defaultShape:o,totalShapeCount:r}=t,s=[{name:"square",controls:G},{name:"triangle",controls:G},{name:"circle",controls:Q},{name:"arch",controls:ee}],i=0;const u=()=>{a("recalc",i),n("localTotal",i=0)};let p="";const h=e=>{if(i){window.confirm("Are you sure? This will remove this shapes calculation")&&(n("control",p=e.name),u(),width=null,height=null,diameter=null,radius=null)}else n("control",p=e.name)};let d;return k(()=>{c&&n("control",p=o)}),e.$set=(e=>{"blockid"in e&&n("blockid",l=e.blockid),"name"in e&&n("name",c=e.name),"defaultShape"in e&&n("defaultShape",o=e.defaultShape),"totalShapeCount"in e&&n("totalShapeCount",r=e.totalShapeCount)}),e.$$.update=((e={name:1})=>{e.name&&n("stepNumber",d=parseInt(c))}),{blockid:l,name:c,defaultShape:o,totalShapeCount:r,shapes:s,localTotal:i,controlCalc:e=>(n("localTotal",i=e.detail),a("calc",i)),reCalc:u,removeShape:()=>{window.confirm(`Are you sure you want to remove shape ${d}?`)&&(u(),a("removeshape"))},control:p,changeSelection:h,stepNumber:d,click_handler:function({shape:e}){return h(e)}}}class ue extends z{constructor(e){super(),U(this,e,ie,se,c,["blockid","name","defaultShape","totalShapeCount"])}}const pe=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)),he=e=>{var t=e%10,n=e%100;return 1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"};function de(e,t,n){const a=Object.create(e);return a.calcblock=t[n],a.index=n,a}function fe(e,t){var n,a;var l=new ue({props:{blockid:t.calcblock.id,name:he(t.index+1),totalShapeCount:t.calcblocks.length,defaultShape:t.calcblock.default}});return l.$on("calc",t.calc),l.$on("recalc",t.reCalc),l.$on("removeshape",function(){return t.removeshape_handler(t)}),{key:e,first:null,c(){n=i("div"),l.$$.fragment.c(),m(n,"class","block-wrap svelte-ri8oqa"),this.first=n},m(e,t){r(e,n,t),I(l,n,null),a=!0},p(e,n){t=n;var a={};e.calcblocks&&(a.blockid=t.calcblock.id),(e.suffixNum||e.calcblocks)&&(a.name=he(t.index+1)),e.calcblocks&&(a.totalShapeCount=t.calcblocks.length),e.calcblocks&&(a.defaultShape=t.calcblock.default),l.$set(a)},i(e){a||(O(l.$$.fragment,e),a=!0)},o(e){P(l.$$.fragment,e),a=!1},d(e){e&&s(n),R(l)}}}function me(e){var t,n,a,l,c,h,g,$,b,k,_,x,w,y,S,C,T,q,E,M,N,A=[],j=new Map,I=e.calcblocks;const R=e=>e.calcblock.id;for(var D=0;D<I.length;D+=1){let t=de(e,I,D),n=R(t);j.set(n,A[D]=fe(n,t))}return{c(){for(t=i("div"),n=i("div"),D=0;D<A.length;D+=1)A[D].c();a=p(),(l=i("a")).innerHTML='Add another shape <i class="text-black fas fa-plus"></i>',c=p(),h=i("div"),g=i("div"),($=i("span")).textContent="=",b=p(),k=i("div"),(_=i("span")).textContent="Total",x=p(),w=i("span"),y=u(e.total),S=p(),(C=i("span")).innerHTML="m<sup>2</sup>",T=p(),q=i("a"),E=u("Buy Turf Online"),m(l,"class","button button__add-shape"),m(l,"href","#"),m(n,"class","calculator-wrap svelte-ri8oqa"),m($,"class","total__equals svelte-ri8oqa"),m(_,"class","total__text flex-grow-1 svelte-ri8oqa"),m(w,"class","total__value svelte-ri8oqa"),m(k,"class","flex items-center total__value-box total__value-box--main flex-grow-1 svelte-ri8oqa"),m(C,"class","total__metric"),m(g,"class","flex items-center total svelte-ri8oqa"),m(q,"class","et_pb_button"),m(q,"href",e.dataUrl),m(h,"class","flex items-center total-wrapper svelte-ri8oqa"),m(t,"id","app-calculator"),m(t,"class","svelte-ri8oqa"),N=d(l,"click",f(e.addShape))},m(e,s){for(r(e,t,s),o(t,n),D=0;D<A.length;D+=1)A[D].m(n,null);o(n,a),o(n,l),o(t,c),o(t,h),o(h,g),o(g,$),o(g,b),o(g,k),o(k,_),o(k,x),o(k,w),o(w,y),o(g,S),o(g,C),o(h,T),o(h,q),o(q,E),M=!0},p(e,t){const l=t.calcblocks;F(),A=H(A,e,R,1,t,l,j,n,B,fe,a,de),L(),M&&!e.total||v(y,t.total)},i(e){if(!M){for(var t=0;t<I.length;t+=1)O(A[t]);M=!0}},o(e){for(D=0;D<A.length;D+=1)P(A[D]);M=!1},d(e){for(e&&s(t),D=0;D<A.length;D+=1)A[D].d();N()}}}function ve(e,t,n){let a=document.getElementById("lawn-calculator").getAttribute("data-url"),l=[{id:pe(),default:"square"}];const c=e=>{n("calcblocks",l=l.filter((t,n)=>n!==e))};let o=0;return{dataUrl:a,calcblocks:l,addShape:()=>{let e={id:pe(),default:"square"};n("calcblocks",l=[...l,e])},removeShape:c,total:o,calc:e=>{let t=parseFloat(e.detail);n("total",o+=t)},reCalc:e=>{let t=parseFloat(e.detail);n("total",o-=t)},removeshape_handler:function({index:e}){return c(e)}}}return new class extends z{constructor(e){super(),U(this,e,ve,me,c,[])}}({target:document.getElementById("lawn-calculator")})}();
//# sourceMappingURL=bundle.js.map
